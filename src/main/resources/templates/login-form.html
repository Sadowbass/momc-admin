<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>관리자 로그인</title>
    <link th:href="@{/css/bootstrap.min.css}" href="/static/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link th:href="@{/css/dalsom.css}" href="/static/css/dalsom.css" rel="stylesheet" type="text/css">
    <link th:href="@{/css/form-css.css}" href="/static/css/form-css.css" rel="stylesheet" type="text/css">
</head>
<body class="cotton-color">
<div class="container">
    <main class="mainContent text-center">
        <div class="form-box col-lg-6">
            <div>
                <h1>엄마가로아하지말래요<br>길드 관리 시스템</h1>
            </div>
            <form action="/login" th:action="@{/login}" method="POST" class="row" id="loginForm" th:object="${adminLoginForm}">
                <div>
                    <div th:if="${#fields.hasGlobalErrors()}">
                        <p class="form-error-text" th:each="each : ${#fields.globalErrors()}" th:text="${each}"></p>
                    </div>
                    <div class="mb-2">
                        <label for="loginId" class="form-label">로그인 아이디</label>
                        <input type="text" th:errorclass="form-error" class="form-control" id="loginId" name="loginId"
                               placeholder="아이디" th:value="*{loginId}">
                        <span class="form-error-text" th:errors="*{loginId}">아이디는 필수입니다</span>
                    </div>
                    <div class="mb-2">
                        <label for="password" class="form-label">비밀번호</label>
                        <input type="password" th:errorclass="form-error" class="form-control" id="password"
                               name="password" placeholder="비밀번호">
                        <span class="form-error-text" th:errors="*{password}">비밀번호는 필수입니다</span>
                    </div>
                </div>
            </form>
            <div>
                <button class="btn btn-primary" form="loginForm">로그인</button>
                <a href="/admins/register" th:href="@{/admins/register}" class="btn btn-danger" role="button">관리자 등록</a>
            </div>
        </div>
    </main>
</div>
<script th:inline="javascript">
    let href = window.location.href;
    let url = new URL(href);
    let expired = url.searchParams.get("expired");
    if (expired) {
        alert("접속이 종료되었습니다. 다시 로그인 해주세요")
    }
</script>
</body>
</html>